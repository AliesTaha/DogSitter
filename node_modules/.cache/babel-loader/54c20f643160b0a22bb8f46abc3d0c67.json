{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_useId as useId, unstable_useForkRef as useForkRef } from '@mui/utils';\nimport { MenuUnstyledContext } from '../MenuUnstyled';\nimport { useButton } from '../ButtonUnstyled';\nexport default function useMenuItem(props) {\n  var _itemState$disabled;\n\n  const {\n    disabled = false,\n    ref,\n    label\n  } = props;\n  const id = useId();\n  const menuContext = React.useContext(MenuUnstyledContext);\n  const itemRef = React.useRef(null);\n  const handleRef = useForkRef(itemRef, ref);\n\n  if (menuContext === null) {\n    throw new Error('MenuItemUnstyled must be used within a MenuUnstyled');\n  }\n\n  const {\n    registerItem,\n    unregisterItem,\n    open\n  } = menuContext;\n  React.useEffect(() => {\n    if (id === undefined) {\n      return undefined;\n    }\n\n    registerItem(id, {\n      disabled,\n      id,\n      ref: itemRef,\n      label\n    });\n    return () => unregisterItem(id);\n  }, [id, registerItem, unregisterItem, disabled, ref, label]);\n  const {\n    getRootProps: getButtonProps,\n    focusVisible\n  } = useButton({\n    disabled,\n    focusableWhenDisabled: true,\n    ref: handleRef\n  }); // Ensure the menu item is focused when highlighted\n\n  const [focusRequested, requestFocus] = React.useState(false);\n  const focusIfRequested = React.useCallback(() => {\n    if (focusRequested && itemRef.current != null) {\n      itemRef.current.focus();\n      requestFocus(false);\n    }\n  }, [focusRequested]);\n  React.useEffect(() => {\n    focusIfRequested();\n  });\n  React.useDebugValue({\n    id,\n    disabled,\n    label\n  });\n  const itemState = menuContext.getItemState(id != null ? id : '');\n  const {\n    highlighted\n  } = itemState != null ? itemState : {\n    highlighted: false\n  };\n  React.useEffect(() => {\n    requestFocus(highlighted && open);\n  }, [highlighted, open]);\n\n  if (id === undefined) {\n    return {\n      getRootProps: other => _extends({}, other, getButtonProps(other), {\n        role: 'menuitem'\n      }),\n      disabled: false,\n      focusVisible\n    };\n  }\n\n  return {\n    getRootProps: other => {\n      const optionProps = menuContext.getItemProps(id, other);\n      return _extends({}, other, getButtonProps(other), {\n        tabIndex: optionProps.tabIndex,\n        id: optionProps.id,\n        role: 'menuitem'\n      });\n    },\n    disabled: (_itemState$disabled = itemState == null ? void 0 : itemState.disabled) != null ? _itemState$disabled : false,\n    focusVisible\n  };\n}","map":{"version":3,"names":["_extends","React","unstable_useId","useId","unstable_useForkRef","useForkRef","MenuUnstyledContext","useButton","useMenuItem","props","_itemState$disabled","disabled","ref","label","id","menuContext","useContext","itemRef","useRef","handleRef","Error","registerItem","unregisterItem","open","useEffect","undefined","getRootProps","getButtonProps","focusVisible","focusableWhenDisabled","focusRequested","requestFocus","useState","focusIfRequested","useCallback","current","focus","useDebugValue","itemState","getItemState","highlighted","other","role","optionProps","getItemProps","tabIndex"],"sources":["C:/Users/Karl/Documents/HackTheNorth/node_modules/@mui/base/MenuItemUnstyled/useMenuItem.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport * as React from 'react';\r\nimport { unstable_useId as useId, unstable_useForkRef as useForkRef } from '@mui/utils';\r\nimport { MenuUnstyledContext } from '../MenuUnstyled';\r\nimport { useButton } from '../ButtonUnstyled';\r\nexport default function useMenuItem(props) {\r\n  var _itemState$disabled;\r\n\r\n  const {\r\n    disabled = false,\r\n    ref,\r\n    label\r\n  } = props;\r\n  const id = useId();\r\n  const menuContext = React.useContext(MenuUnstyledContext);\r\n  const itemRef = React.useRef(null);\r\n  const handleRef = useForkRef(itemRef, ref);\r\n\r\n  if (menuContext === null) {\r\n    throw new Error('MenuItemUnstyled must be used within a MenuUnstyled');\r\n  }\r\n\r\n  const {\r\n    registerItem,\r\n    unregisterItem,\r\n    open\r\n  } = menuContext;\r\n  React.useEffect(() => {\r\n    if (id === undefined) {\r\n      return undefined;\r\n    }\r\n\r\n    registerItem(id, {\r\n      disabled,\r\n      id,\r\n      ref: itemRef,\r\n      label\r\n    });\r\n    return () => unregisterItem(id);\r\n  }, [id, registerItem, unregisterItem, disabled, ref, label]);\r\n  const {\r\n    getRootProps: getButtonProps,\r\n    focusVisible\r\n  } = useButton({\r\n    disabled,\r\n    focusableWhenDisabled: true,\r\n    ref: handleRef\r\n  }); // Ensure the menu item is focused when highlighted\r\n\r\n  const [focusRequested, requestFocus] = React.useState(false);\r\n  const focusIfRequested = React.useCallback(() => {\r\n    if (focusRequested && itemRef.current != null) {\r\n      itemRef.current.focus();\r\n      requestFocus(false);\r\n    }\r\n  }, [focusRequested]);\r\n  React.useEffect(() => {\r\n    focusIfRequested();\r\n  });\r\n  React.useDebugValue({\r\n    id,\r\n    disabled,\r\n    label\r\n  });\r\n  const itemState = menuContext.getItemState(id != null ? id : '');\r\n  const {\r\n    highlighted\r\n  } = itemState != null ? itemState : {\r\n    highlighted: false\r\n  };\r\n  React.useEffect(() => {\r\n    requestFocus(highlighted && open);\r\n  }, [highlighted, open]);\r\n\r\n  if (id === undefined) {\r\n    return {\r\n      getRootProps: other => _extends({}, other, getButtonProps(other), {\r\n        role: 'menuitem'\r\n      }),\r\n      disabled: false,\r\n      focusVisible\r\n    };\r\n  }\r\n\r\n  return {\r\n    getRootProps: other => {\r\n      const optionProps = menuContext.getItemProps(id, other);\r\n      return _extends({}, other, getButtonProps(other), {\r\n        tabIndex: optionProps.tabIndex,\r\n        id: optionProps.id,\r\n        role: 'menuitem'\r\n      });\r\n    },\r\n    disabled: (_itemState$disabled = itemState == null ? void 0 : itemState.disabled) != null ? _itemState$disabled : false,\r\n    focusVisible\r\n  };\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}